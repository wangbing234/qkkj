webpackJsonp([9],{83:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(1),i=l(r),d=a(5),u=a(59),s=l(u),o=d.BFDForm.Item,c=[{type:1,name:"hive"},{type:2,name:"mysql"},{type:3,name:"hbase"}],f=i["default"].createClass({displayName:"RuleForm",getInitialState:function(){return n({visible:!1},this.props)},handleCancel:function(e){this.setState({visible:!1})},handleSubmit:function(e){e.preventDefault(),console.log("新建项目收到表单值：",this.props.form.getFieldsValue())},componentDidMount:function(){var e=this.props.form.setFieldsValue,t=this.props.data;e(t)},listChange:function(e){},render:function(){var e=this.props.form.getFieldProps,t={labelCol:{span:6},wrapperCol:{span:14}};return i["default"].createElement(d.BFDForm,{horizontal:!0,onSubmit:this.handleSubmit},i["default"].createElement(o,n({},t,{label:"规则名称："}),i["default"].createElement(d.BFDInput,e("taskName"))),i["default"].createElement(o,n({},t,{label:"稽核表："}),i["default"].createElement(d.BFDInput,e("taskName"))),i["default"].createElement(o,n({},t,{label:"稽核类型："}),i["default"].createElement(s["default"],{dataProvider:c,labelField:"name",dataField:"name",onChange:this.listChange})),i["default"].createElement(o,n({},t,{label:"稽核粒度："}),i["default"].createElement(s["default"],{dataProvider:c,labelField:"name",dataField:"name",onChange:this.listChange})),i["default"].createElement(o,n({},t,{label:"规则类型："}),i["default"].createElement(s["default"],{dataProvider:c,labelField:"name",dataField:"name",onChange:this.listChange})),i["default"].createElement(o,n({},t,{label:"稽核字段："}),i["default"].createElement(s["default"],{dataProvider:c,labelField:"name",dataField:"name",onChange:this.listChange})),i["default"].createElement(o,n({},t,{label:"报警级别："}),i["default"].createElement(s["default"],{dataProvider:c,labelField:"name",dataField:"name",onChange:this.listChange})),i["default"].createElement(o,n({},t,{label:"规则描述：",help:"随便写点什么"}),i["default"].createElement(d.BFDInput,n({type:"textarea",placeholder:"随便写"},e("remark")))))}});f=d.BFDForm.create()(f),e.exports=f},172:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function n(){o({title:"是否确认删除？",content:"",onOk:function(){message.success("删除成功！")},onCancel:function(){}})}var r,i=a(1),d=l(i),u=a(5),s=a(83),o=(l(s),u.BFDModal.confirm),c=[{title:"序号",dataIndex:"number",render:function(e){return d["default"].createElement("a",{onClick:r.enterHomePage},e)}},{title:"规则名称",dataIndex:"ruleName",render:function(e){return d["default"].createElement("a",{onClick:r.enterHomePage},e)}},{title:"稽核类型",dataIndex:"auditType"},{title:"规则类型",dataIndex:"ruleType"},{title:"稽核表",dataIndex:"auditTable"},{title:"稽核表字段",dataIndex:"auditColumn"},{title:"参照表",dataIndex:"refTable"},{title:"参照表字段",dataIndex:"refColumn"},{title:"操作",render:function(e,t){return d["default"].createElement("span",null,d["default"].createElement("a",{"data-key":t.ruleName,href:"javascript:void(0);",onClick:r.editHandler},"编辑"),d["default"].createElement("span",{className:"ant-divider"}),d["default"].createElement("a",{"data-key":t.ruleName,href:"javascript:void(0);",onClick:r.delHandler},"删除"))}}],f=[{key:"1",number:1,ruleName:"验证用户ID是否为空",auditType:"横向稽核",ruleType:"空值检核",auditTable:"BI_1",auditColumn:"ID-USERS",refTable:"BI_2",refColumn:"ID-USERS2"},{key:"2",number:2,ruleName:"验证用户ID是否为空",auditType:"横向稽核",ruleType:"空值检核",auditTable:"BI_1",auditColumn:"ID-USERS",refTable:"BI_2",refColumn:"ID-USERS2"},{key:"3",number:3,ruleName:"验证用户ID是否为空",auditType:"横向稽核",ruleType:"空值检核",auditTable:"BI_1",auditColumn:"ID-USERS",refTable:"BI_2",refColumn:"ID-USERS2"}],m=d["default"].createClass({displayName:"RuleConfig",getInitialState:function(){return r=this,{visible:!1,title:"规则配置"}},editHandler:function(e){var t=e.target.attributes["data-key"].value,a=f.filter(function(e){return e.ruleName===t});console.log("ffsadf="+a),this.props.editClick(a)},delHandler:function(){n()},render:function(){return d["default"].createElement("div",null,d["default"].createElement(u.BFDTable,{columns:c,dataSource:f}))}});e.exports=m},559:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=a(1),r=l(n),i=a(5),d=a(565),u=l(d),s=a(563),o=l(s),c=a(83),f=l(c),m=(i.BFDTabs.TabPane,r["default"].createClass({displayName:"Index",getInitialState:function(){return{taskData:{visible:!1},ruleData:{visible:!1}}},addHandler:function(){this.setState({taskData:{visible:!0}})},editClickHandler:function(){this.setState({taskData:{visible:!0}})},addRuleClickHandler:function(){this.setState({ruleData:{title:"规则配置",visible:!0}})},editRuleClickHandler:function(){this.setState({ruleData:{visible:!0}})},handleCancel:function(e){this.setState({taskData:{visible:!1},ruleData:{visible:!1}})},renderBottom:function(){return r["default"].createElement("div",null)},render:function(){return r["default"].createElement("div",null,r["default"].createElement("h2",null,"任务"),r["default"].createElement("div",null,r["default"].createElement(i.BFDInput,{placeholder:"输入任务名称",style:{width:200}}),r["default"].createElement(i.BFDButton,null,"查询")),r["default"].createElement("div",null,r["default"].createElement(i.BFDButton,{onClick:this.addHandler},"新建"),r["default"].createElement(i.BFDButton,null,"删除")),r["default"].createElement(u["default"],{editClick:this.editClickHandler,addRuleClick:this.addRuleClickHandler,editRuleClick:this.editRuleClickHandler}),r["default"].createElement(i.BFDModal,{title:this.state.title,width:"1000",visible:this.state.taskData.visible,onCancel:this.handleCancel,footer:this.renderBottom()},r["default"].createElement(o["default"],{data:this.state.taskData,cancel:this.handleCancel})),r["default"].createElement(i.BFDModal,{title:this.state.ruleData.title,visible:this.state.ruleData.visible,onCancel:this.handleCancel},r["default"].createElement(f["default"],{data:this.state.ruleData,cancel:this.handleCancel})))}}));e.exports=m},560:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(1),i=l(r),d=a(5),u=a(59),s=l(u),o=d.BFDForm.Item,c=[{type:1,name:"hive"},{type:2,name:"mysql"},{type:3,name:"hbase"}],f=i["default"].createClass({displayName:"CreateTask",getInitialState:function(){return n({visible:!1},this.props)},handleCancel:function(e){this.setState({visible:!1})},handleSubmit:function(e){e.preventDefault(),console.log("新建项目收到表单值：",this.props.form.getFieldsValue())},componentDidMount:function(){var e=this.props.form.setFieldsValue,t=this.props.data;e(t)},listChange:function(e){},render:function(){var e=this.props.form.getFieldProps,t={labelCol:{span:6},wrapperCol:{span:14}};return i["default"].createElement(d.BFDForm,{horizontal:!0,onSubmit:this.handleSubmit},i["default"].createElement(o,n({},t,{label:"任务名称："}),i["default"].createElement(d.BFDInput,e("taskName"))),i["default"].createElement(o,n({},t,{label:"任务描述：",help:"随便写点什么"}),i["default"].createElement(d.BFDInput,n({type:"textarea",placeholder:"随便写"},e("remark")))),i["default"].createElement(o,n({},t,{label:"数据库："}),i["default"].createElement(s["default"],{dataProvider:c,labelField:"name",dataField:"name",onChange:this.listChange})))}});f=d.BFDForm.create()(f),e.exports=f},561:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(1),i=l(r),d=a(5),u=a(59),s=l(u),o=d.BFDForm.Item,c=d.BFDCheckbox.Group,f=[{type:1,name:"hive"},{type:2,name:"mysql"},{type:3,name:"hbase"}],m=i["default"].createClass({displayName:"MsgNotice",getInitialState:function(){return n({visible:!1},this.props)},handleCancel:function(e){this.setState({visible:!1})},handleSubmit:function(e){e.preventDefault(),console.log("新建项目收到表单值：",this.props.form.getFieldsValue())},componentDidMount:function(){var e=this.props.form.setFieldsValue,t=this.props.data;e(t)},listChange:function(e){},onChange:function(e){console.log("checked = ",e)},render:function(){var e=(this.props.form.getFieldProps,{labelCol:{span:6},wrapperCol:{span:14}});return i["default"].createElement(d.BFDForm,{horizontal:!0,onSubmit:this.handleSubmit},i["default"].createElement(o,n({},e,{label:"消息提醒方式："}),i["default"].createElement(c,{options:["短信","邮件"],defaultValue:["短信"],onChange:this.onChange})),i["default"].createElement(o,n({},e,{label:"短信组："}),i["default"].createElement(s["default"],{dataProvider:f,labelField:"name",dataField:"name",onChange:this.listChange})),i["default"].createElement(o,n({},e,{label:"邮件组："}),i["default"].createElement(s["default"],{dataProvider:f,labelField:"name",dataField:"name",onChange:this.listChange})))}});m=d.BFDForm.create()(m),e.exports=m},562:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=a(1),r=l(n),i=a(5),d=a(83),u=l(d),s=a(172),o=l(s),c=(i.BFDModal.confirm,r["default"].createClass({displayName:"RuleConfig",getInitialState:function(){return{visible:!1,title:"规则配置"}},addHandler:function(e){this.setState({visible:!0})},editHandler:function(e){console.log("ffsadf="+e),this.setState({visible:!0})},handleCancel:function(e){this.setState({visible:!1})},render:function(){return r["default"].createElement("div",null,r["default"].createElement(o["default"],{editClick:this.editHandler}),r["default"].createElement(i.BFDButton,{onClick:this.addHandler},"新增"),r["default"].createElement(i.BFDModal,{title:this.state.title,visible:this.state.visible,onCancel:this.handleCancel},r["default"].createElement(u["default"],{data:this.state,cancel:this.handleCancel})))}}));e.exports=c},563:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=a(1),r=l(n),i=a(3),d=a(5),u=a(564),s=l(u),o=d.BFDSteps.Step,c=[{title:"创建任务"},{title:"规则配置"},{title:"消息通知"}],f=r["default"].createClass({displayName:"TaskMain",getInitialState:function(){return{currentStep:0}},previous:function(){var e=this.state.currentStep-1;0===this.state.currentStep&&(e=0),this.setState({currentStep:e}),this.setModalVisible(e)},next:function(){var e=this.state.currentStep+1;3===e&&(e=0),this.setState({currentStep:e}),this.setModalVisible(e)},setModalVisible:function(e){this.refs.taskStepsRender.setState({currentStep:e+1})},render:function(){var e=this.state.currentStep;return r["default"].createElement("div",{style:{width:800}},r["default"].createElement("div",null,r["default"].createElement(d.BFDSteps,{current:e,style:{width:800}},c.map(function(e,t){return r["default"].createElement(o,{key:t,title:e.title})}))),r["default"].createElement("div",{className:"add-userconfigrole-margin"},r["default"].createElement(s["default"],{ref:"taskStepsRender"})),r["default"].createElement("div",null,r["default"].createElement(i.Row,{style:{marginTop:10}},r["default"].createElement(i.Col,{span:"16",offset:"6"},r["default"].createElement(d.BFDButton,{type:"primary",className:"common-margin-right",onClick:this.previous},"上一步"),r["default"].createElement(d.BFDButton,{type:"primary",className:"common-margin-right",onClick:this.next},"下一步"),r["default"].createElement(d.BFDButton,{type:"primary",className:"common-margin-right",onClick:this.props.cancel},"提交"),r["default"].createElement(d.BFDButton,{onClick:this.props.cancel},"取消")))))}});e.exports=f},564:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=a(1),r=l(n),i=a(560),d=l(i),u=a(562),s=l(u),o=a(561),c=l(o),f=r["default"].createClass({displayName:"TaskStepsRender",getInitialState:function(){return{currentStep:1}},render:function(){var e=void 0;switch(this.state.currentStep){case 1:e=r["default"].createElement(d["default"],null);break;case 2:e=r["default"].createElement(s["default"],null);break;case 3:e=r["default"].createElement(c["default"],null)}return e}});e.exports=f},565:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function n(){c({title:"是否确认删除？",content:"",onOk:function(){message.success("删除成功！")},onCancel:function(){}})}var r,i=a(1),d=l(i),u=a(5),s=a(172),o=l(s),c=u.BFDModal.confirm,f=[{title:"",dataIndex:"isCheck",render:function(e){return d["default"].createElement(u.BFDCheckbox,null)}},{title:"任务名称",dataIndex:"taskName",render:function(e,t){return d["default"].createElement("a",{"data-key":t.taskName,onClick:r.editHandler},e)}},{title:"数据库",dataIndex:"database"},{title:"任务描述",dataIndex:"taskDescribe"},{title:"规则数",dataIndex:"ruleNum",render:function(e,t){return d["default"].createElement("div",null,e,d["default"].createElement("a",{"data-key":t.taskName,onClick:r.onClickTest},"点击"))}},{title:"创建时间",dataIndex:"createTime"},{title:"更新时间",dataIndex:"updateTime"},{title:"创建人",dataIndex:"creater"},{title:"报警组",dataIndex:"alarmGroup"},{title:"操作",render:function(e,t){return d["default"].createElement("span",null,d["default"].createElement("a",{"data-key":t.taskName,href:"javascript:void(0);",onClick:r.editHandler},"编辑"),d["default"].createElement("span",{className:"ant-divider"}),d["default"].createElement("a",{"data-key":t.taskName,href:"javascript:void(0);",onClick:r.addRuleHandler},"添加规则"),d["default"].createElement("span",{className:"ant-divider"}),d["default"].createElement("a",{"data-key":t.taskName,href:"javascript:void(0);",onClick:r.delHandler},"删除"))}}],m=[{key:"1",isCheck:!1,taskName:"稽核表",database:"test67",taskDescribe:"xiaotesting",ruleNum:"2",createTime:"2016-03-03 14:29:00",updateTime:"2016-03-03 14:29:00",creater:"xxj",alarmGroup:"xiao_test"},{key:"2",isCheck:!1,taskName:"稽核表1",database:"test67",taskDescribe:"xiaotesting",ruleNum:"2",createTime:"2016-03-03 14:29:00",updateTime:"2016-03-03 14:29:00",creater:"ff",alarmGroup:"xiao_test"},{key:"3",isCheck:!1,taskName:"稽核表2",database:"test67",taskDescribe:"xiaotesting",ruleNum:"2",createTime:"2016-03-03 14:29:00",updateTime:"2016-03-03 14:29:00",creater:"jj",alarmGroup:"xiao_test"}],p=d["default"].createClass({displayName:"TaskList",getInitialState:function(){return r=this,{}},editHandler:function(e){var t=e.target.attributes["data-key"].value,a=m.filter(function(e){return e.taskName===t});console.log("ffsadf="+a),this.props.editClick(a)},addRuleHandler:function(){this.props.addRuleClick()},delHandler:function(){n()},editRuleHandler:function(){this.props.editRuleClick()},onClickTest:function(e){console.log("展开");var t=e.target.attributes["data-key"].value;console.log("name=",t),this.refs.tb.expandedRowRender=this.renderExpandRow()},renderExpandRow:function(e){return d["default"].createElement("div",null,d["default"].createElement(o["default"],{ref:"aa",editClick:this.editRuleHandler}))},render:function(){var e=this;return d["default"].createElement("div",null,d["default"].createElement(u.BFDTable,{ref:"tb",columns:f,dataSource:m,expandedRowRender:function(t){return e.renderExpandRow(t)}}))}});e.exports=p}});